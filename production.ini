#
# CKAN - Pylons configuration
#
# These are some of the configuration options available for your CKAN
# instance. Check the documentation in 'doc/configuration.rst' or at the
# following URL for a description of what they do and the full list of
# available options:
#
# http://docs.ckan.org/en/latest/maintaining/configuration.html
#
# The %(here)s variable will be replaced with the parent directory of this file
#

[DEFAULT]

# WARNING: *THIS SETTING MUST BE SET TO FALSE ON A PRODUCTION ENVIRONMENT*
WARN = true
DEBUG = true

[server:main]
use = egg:Paste#http
host = 0.0.0.0
port = 5000


[app:main]


ckanext.spatial.harvest.validate_wms=true
ckanext.spatial.search_backend=solr
ckan.harvest.log_scope=0

use = egg:ckan
full_stack = true

#cache_dir = /mnt/custom_bucket_storage/ckan/tmp/ckanx/
cache_dir = /mnt/disks/ckan/tmp/%(ckan.site_id)s/
beaker.session.key = ckan

# This is the secret token that the beaker library uses to hash the cookie sent
# to the client. `paster make-config` generates a unique value for this each
# time it generates a config file.
beaker.session.secret = QkEF9eH+9EmRRc2Za7n1HGpvzPROD

# `paster make-config` generates a unique value for this each time it generates
# a config file.
app_instance_uuid = 3756e0ac-284a-4825-987a-88147ad3deea-prod

# repoze.who config
who.config_file = %(here)s/who.ini
who.log_level = warning
who.log_file = %(cache_dir)s/who_log.ini
who.secure=True
# Session timeout (user logged out after period of inactivity, in seconds).
# Inactive by default, so the session doesn't expire.
#who.timeout = 10

## Database Settings
sqlalchemy.url = postgresql://ckan_user:ckan_user@10.55.16.51:5432/ckan
ckan.datastore.write_url = postgresql://ckan_user:ckan_user@10.55.16.51:5432/datastore-db
ckan.datastore.read_url = postgresql://datastore_user:datastore_user@10.55.16.51:5432/datastore-db

# BIG QUERY
#ckan.datastore.write_url = bigquery://fao-maps-review
#ckan.datastore.read_url = bigquery://fao-maps-review
#ckan.datastore.write_url = bigquery://fao-maps-review.fao_covid
#ckan.datastore.read_url = bigquery://fao-maps-review.fao_covid
#ckanext.bigquery.google_cloud_credentials = /etc/ckan/default/fao-maps-review-270bddd2d0a4.json
#ckanext.bigquery.google_cloud_credentials_read_only = /etc/ckan/default/fao-maps-review-270bddd2d0a4.json

ckanext.bigquery.google_cloud_credentials=/etc/ckan/default/ckan-bq-sa.json
ckanext.bigquery.google_cloud_credentials_read_only=/etc/ckan/default/ckan-bq-sa.json

ckanext.bigquery.project = fao-maps-review
ckanext.bigquery.dataset = fao-maps-review


# PostgreSQL' full-text search parameters
ckan.datastore.default_fts_lang = english
ckan.datastore.default_fts_index_method = gist

#CKAN datastore sqlsearch
ckan.datastore.sqlsearch.enabled = False

## Site Settings

ckan.cache_enabled = True
ckan.cache_expires = 60
ckan.static_max_age = 60

ckan.site_url = https://data.review.fao.org
ckan.root_path = /ckanx/
#ckan.root_path = /ckanx/{{LANG}}/

#ckan.use_pylons_response_cleanup_middleware = true

## Authorization Settings

ckan.auth.anon_create_dataset = false
ckan.auth.create_unowned_dataset = false
ckan.auth.create_dataset_if_not_in_organization = false
ckan.auth.user_create_groups = false
ckan.auth.user_create_organizations = false
ckan.auth.user_delete_groups = true
ckan.auth.user_delete_organizations = false
ckan.auth.create_user_via_api = false
ckan.auth.create_user_via_web = true
ckan.auth.roles_that_cascade_to_sub_groups = admin
ckan.auth.public_user_details = false
#ckan.auth.public_activity_stream_detail = false

## Search Settings

ckan.site_id = ckanx
#solr_url = http://10.128.0.15/solr/ckan/
#solr_url=http://10.128.0.15:8983/solr/
#solr_password=cCmkuHVq1YiS
#solr_user=admin
#solr_url = http://127.0.0.1:8983/solr

# SOLR

#solr_url = http://127.0.0.1:8983/solr
solr_url = http://127.0.0.1:8983/solr/ckan_packages
ckanext.jsonschema.solr.default.core_name=ckan_packages

# Cloud storage
ckanext.cloudstorage.driver=GOOGLE_STORAGE
ckanext.cloudstorage.container_name=fao-maps-review-ckan-test-cloudstorage
#ckanext.cloudstorage.container_name = ckanx-storage
ckanext.cloudstorage.transition=True
#ckanext.cloudstorage.driver_options={'key': 'ckan-cloud-storage@fao-maps-review.iam.gserviceaccount.com', 'secret': '/usr/lib/ckan/default/src/ckanext-cloudstorage/fao-maps-review-fa7e239468ba.json' }

#ckanext.cloudstorage.driver_options={'key': 'ckan-cloud-storage@fao-maps-review.iam.gserviceaccount.com', 'secret': '/etc/ckan/default/fao-maps-review-cloud-storage-key_martial.json' }
#ckanext.cloudstorage.driver_options={'key': 'ckan-cloud-storage@fao-maps-review.iam.gserviceaccount.com', 'secret': '/etc/ckan/default/fao-maps-review-cloud-storage-key.json' }
#ckanext.cloudstorage.driver_options={'key': 'ckan-cloud-storage@fao-maps-review.iam.gserviceaccount.com', 'secret': '/etc/ckan/default/fao-maps-review-cloud-storage-key.json' }
ckanext.cloudstorage.use_secure_urls=True
ckanext.cloudstorage.prefix=fao-catalog-review-
ckanext.cloudstorage.domain=fao.org
ckanext.cloudstorage.cors_config=/etc/ckan/default/cors_config.json

## ETL
#ckanext.cloudstorage.ckan_api_key=26206514-906f-4332-bf30-7925dfced242
# TODO USE THIS KEY INSTEAD OF THE SERVICE ACCOUNT /etc/ckan/default/fao-maps-review-cloud-storage-key.json
#ckanext.cloudstorage.service_account_key_path=/etc/ckan/default/compute-engine-sa-key.json
#ckanext.cloudstorage.service_account_key_path=/etc/ckan/default/fao-maps-review-cloud-storage-key_martial.json
#ckanext.cloudstorage.service_account_key_path=/etc/ckan/default/fao-maps-review-cloud-storage-key.json
#ckanext.cloudstorage.service_account_key_path=/etc/ckan/default/fao-maps-review-cloud-storage-key.json
#ckanext.cloudstorage.service_account_key_path=/usr/lib/ckan/default/src/ckanext-cloudstorage/fao-maps-review-fa7e239468ba.json
#ckanext.cloudstorage.driver_options={'key': 'ckan-cloud-storage@fao-maps-review.iam.gserviceaccount.com', 'secret': '/etc/ckan/default/fao-maps-review-270bddd2d0a4.json' }
#ckanext.cloudstorage.service_account_key_path=/etc/ckan/default/fao-maps-review-270bddd2d0a4.json
#ckanext.cloudstorage.driver_options={'key': 'ckan-cloud-storage@fao-maps-review.iam.gserviceaccount.com', 'secret': '/etc/ckan/default/fao-maps-review-fa7e239468ba.json' }
ckanext.cloudstorage.service_account_key_path=/etc/ckan/default/fao-maps-review-fa7e239468ba.json
ckanext.cloudstorage.gcp_base_url=https://gcp.fao.org/groups-service/api/v1
ckanext.cloudstorage.leave_files=True

## CORS Settings

# If cors.origin_allow_all is true, all origins are allowed.
# If false, the cors.origin_whitelist is used.
# ckan.cors.origin_allow_all = true
# cors.origin_whitelist is a space separated list of allowed domains.
ckan.cors.origin_whitelist = https://ckanx-storage.storage.googleapis.com http://data.review.fao.org https://auth.data.review.fao.org https://data.apps.fao.org https://auth.data.apps.fao.org

########################################################
# Google analytics plugin
googleanalytics.id = UA-161756923-1
# REVEW: UA-161756923-1
# PROD : UA-161756923-2
googleanalytics_resource_prefix = /tmp/googleanalytics/
googleanalytics.domain = auto
googleanalytics.track_events = false
googleanalytics.fields = {}
googleanalytics.enable_user_id = false

########################################################
ckan.tracking_enabled = true
#ckan.search.default_package_sort = popular des

########################################################
# DCAT plugin
#https://github.com/ckan/ckanext-dcat/issues/185
ckanext.dcat.translate_keys = False
dcat_plugin=dcat dcat_rdf_harvester dcat_json_harvester dcat_json_interface structured_data

#ckanext-dcat plugin configs
#To disable the RDF endpoints, you can set the following config in your ini file
ckanext.dcat.enable_rdf_endpoints = True
#The default number of datasets returned (100) can be modified by CKAN site maintainers using the following$
ckanext.dcat.datasets_per_page = 20
#To enable content negotiation, set the following configuration option on your ini file
ckanext.dcat.enable_content_negotiation = True
# Adding profiles
ckanext.dcat.rdf.profiles = euro_dcat_ap

########################################################
# SCHEMING
#   Preset files may be included as well. The default preset setting is:
scheming.dataset_schemas = ckanext.scheming_dcat:scheming/dcat.yaml
                           ckanext.scheming_iso19115:scheming/iso.yaml
scheming.presets = ckanext.scheming_dcat:scheming/presets.json
#   The is_fallback setting may be changed as well. Defaults to false:
#scheming.dataset_fallback = false
# ISO19915 Scheming
scheming_plugin=scheming_datasets scheming_organizations 

########################################################
#TERRIA
# Default Instance Title (optional, default: National Map).
ckanext.terriajs.url=https://data.review.fao.org
# Bucket
ckanext.jsonschema.bucket_name=fao-maps-review-catalog-mirror
ckanext.jsonschema.bucket_relative_path=review
ckanext.jsonschema.gcp_auth_path=/etc/ckan/default/fao-maps-review-cloud-storage-key.json
ckanext.terriajs.api_base_url_bucket=https://storage.googleapis.com
ckanext.jsonschema.bucket_indexer_enabled=true
# Graph
ckanext.jsonschema.graph_indexer_enabled=true
ckanext.jsonschema.graph_indexer_api_key=random_fake_key
ckanext.jsonschema.titiler_base_url=https://data.review.fao.org/geospatial/api
#ckanext.terriajs.schema.type_mapping = /etc/ckan/default/terriajs-type-mapping.json
#ckanext.terriajs.always_available = True

########################################################
# CESIUM TERRIA
# Default Instance Title (optional, default: National Map).

########################################################
## SPATIAL

#spacial plugin settings
ckan.spatial.srid=4326

#csw and harvesting 
ckan.spatial.validator.profiles=iso19139,iso19115
#ckanext.spatial.harvest.user_name = admin
ckanext.spatial.harvest.reindex_unchanged = False
continue_on_validation_errors = true
ckanext.spatial.harvest.continue_on_validation_errors=true

spatial_plugin=
#spatial_metadata spatial_query

########################################################
## GEO views

ckanext.geoview.shp_viewer.srid = 4326
##geoview plugin confis
ckanext.geoview.shp_viewer.encoding = UTF-8
#will support these formats below as default
ckanext.geoview.ol_viewer.formats = wms kml wfs geojson shp

geo_view=geo_view geojson_view wmts_view shp_view 

########################################################
## HARVEST plugin
harvest_plugin=harvest harvester_iso19139
#ckan_harvester csw_harvester iso19115_harvester
#iso19115_csw_harvester

########################################################
## FAO customizations

ckanext.jsonschema.license.default=CC-BY-NC-SA-3.0-IGO

#fao_plugin=gcIAP publisher fao_theme jsonschema jsonschema_dataset jsonschema_iso scheming_dcat jsonschema_dashboard
# jsonschema_stac
# jsonschema jsonschema_iso19139 jsonschema_iso
#jsonschema jsonschema_iso19139
#fao_plugin=fao_auth fao_theme scheming_dcat


########################################################
## Plugins Settings
# Note: Add ``datastore`` to enable the CKAN DataStore
#       Add ``datapusher`` to enable DataPusher
#               Add ``resource_proxy`` to enable resorce proxying and get around the
#               same origin policy

#other_view=text_view image_view recline_view recline_graph_view terriajs jsonschema_dashboard_view
#default_view=text_view image_view recline_view recline_graph_view terriajs
# jsonschema_dashboard_view
#jsonschema_dashboard
#terriajs_view
#other_view=text_view image_view recline_view terria_view
#geojson wfs wms terria_view


################################# BigQuery
# ckanext.bq.global.credentials_file = /etc/ckan/default/big_query.json
ckanext.bq.global.credentials_file = /etc/ckan/default/ckan-bq-sa.json

ckanext.bq.global.disable_impersonation=true
ckanext.bq.global.project = fao-maps-review
# ckanext.bq.global.dataset = test_datacatalog
ckanext.bq.global.dataset = test_datacatalog_us
# don't change this line
ckanext.files.storage.big_query_resource.type = files:bq_google_cloud_storage
# path to service account credentials. Can be empty if logged in via gcloud
ckanext.files.storage.big_query_resource.credentials_file = %(ckanext.bq.global.credentials_file)s
# path inside the bucket for uploading files
ckanext.files.storage.big_query_resource.path = big_query_resource
# name of the GCS bucket for uploads
ckanext.files.storage.big_query_resource.bucket = ckanx-storage

## LD test configuration
# ckanext.bq.global.dataset = test_dataset
# ckanext.bq.global.project = bigquery-test-project-412706
# ckanext.bq.global.credentials_file = /etc/ckan/default/ld.json

################################# TODAY 22/04/2022

fao_plugin=gcIAP publisher fao_theme scheming_dcat
# fao_plugin=gcIAP publisher fao_theme scheming_dcat cloudstorage

link_digital_plugin=bq bq_jsonschema bq_tags_view files recline_view
#link_digital_plugin=
#link_digital_plugin=bq bq_jsonschema bq_tags_view datastore recline_view files
#fao_plugin=oauth2 publisher fao_theme scheming_dcat

jsonschema_plugin=jsonschema jsonschema_iso jsonschema_dataset
#jsonschema_plugin=jsonschema jsonschema_iso jsonschema_dashboard jsonschema_dataset jsonschema_frictionless

other_view=terriajs text_view image_view officedocs_view
#other_view=terriajs jsonschema_dashboard_view text_view image_view officedocs_view
# recline_view

ckan.plugins=resource_proxy stats googleanalytics %(fao_plugin)s %(link_digital_plugin)s %(jsonschema_plugin)s %(other_view)s %(spatial_plugin)s %(geo_view)s %(dcat_plugin)s %(scheming_plugin)s %(harvest_plugin)s

ckan.views.default_views=terriajs bigquery_tags_view

#####################################################


# tableau_view
# pdf_view  officedocs_view
#showcase datawagovau_theme
#ckan.plugins = resource_proxy datastore datapusher stats googleanalytics %(fao_plugin)s %(other_view)s %(spatial_plugin)s %(geo_view)s %(dcat_plugin)s %(scheming_plugin)s %(harvest_plugin)s

# cloudstorage

# bigquery

#ckan.plugins = resource_proxy datastore datapusher stats cloudstorage %(fao_plugin)s %(other_view)s googleanalytics %(spatial_plugin)s %(geo_view)s %(dcat_plugin)s %(scheming_plugin)s %(harvest_plugin)s

# Define which views should be created by default
# (plugins must be loaded in ckan.plugins)
#ckan.views.default_views = %(default_view)s

## gcIAP configuration
ckanext.gciap.authorization_endpoint = https://data.review.fao.org/private
ckanext.gciap.remember_name = auth_tkt
# the header used to get the JWT token (default: X-Goog-Iap-Jwt-Assertion )
ckanext.gciap.authorization_header = X-Goog-Iap-Jwt-Assertion
# Used to logout:
#ckanext.gciap.reset_url = https://data.review.fao.org/private?gcp-iap-mode=GCIP_SIGNOUT
ckanext.gciap.reset_url = https://data.review.fao.org/private?gcp-iap-mode=GCIP_SIGNOUT
# Session expiring time
ckanext.gciap.session_exp = 480
# local ip of the machine
# we need that to perform internal redirection to skip the LB
#ckanext.gciap.local_ip = https://data.apps.fao.org/ckanx
ckanext.gciap.local_ip = http://10.128.0.74
#ckanext.gciap.local_ip = http://fao-maps-review-ckanx
# the flatten path of the field in the token to use as username
ckanext.gciap.profile_api_user_field = gcip.email
# the flatten path of the field in the token to use as name
ckanext.gciap.profile_api_fullname_field = gcip.firebase.name
# the flatten path of the field in the token to use as email
ckanext.gciap.profile_api_mail_field = gcip.email
ckanext.gciap.profile_api_groupmembership_field = ''
ckanext.gciap.sysadmin_group_name = ''
ckanext.gciap.skip_list = ["/api/","/terriajs/"]


############### OLD fao-maps-release gcIAP configuration
#ckan.gcIAP.backend_service_name=fao-maps-proxy-backends-backend
#ckan.gcIAP.project=fao-maps-review
# gcloud projects list
# gcloud compute backend-services list --project fao-maps-review
# gcloud compute backend-services describe --global fao-maps-proxy-backends-backend --project fao-maps-review --format json
ckan.gcIAP.backend_service_name=5384713227909051415
ckan.gcIAP.project=1036455980974

#/projects/fao-maps-review/global/backendServices/fao-maps-proxy-backends-backend
#/projects/1036455980974/global/backendServices/5384713227909051415
#ckan.gcIAP.backend_service_name=fao-maps-review-ckanx
#ckan.gcIAP.project=fao-maps-review
#/projects/1036455980974/global/backendServices/5384713227909051415

ckan.gcIAP.local_ip = http://10.128.0.74
ckan.gcIAP.authorization_endpoint = https://data.review.fao.org/private
ckan.gcIAP.remember_name = auth_tkt

# Used to logout
#ckan.gcIAP.reset_url = https://data.review.fao.org/private
ckan.gcIAP.reset_url = https://data.review.fao.org/private?gcp-iap-mode=GCIP_SIGNOUT

# the header used to get the JWT token (default: X-Goog-Iap-Jwt-Assertion )
ckan.gcIAP.authorization_header=X-Goog-Iap-Jwt-Assertion

# expiration time in minutes (8h)
ckan.gcIAP.session_exp=480

# the flatten path of the field in the token to use as username
ckan.gcIAP.profile_api_user_field = gcip.email
# the flatten path of the field in the token to use as name
ckan.gcIAP.profile_api_fullname_field = gcip.firebase.name
# the flatten path of the field in the token to use as email
#ckan.gcIAP.profile_api_mail_field = sign_in_attributes.http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress
#ckan.gcIAP.profile_api_mail_field = identities.email
ckan.gcIAP.profile_api_mail_field = gcip.email

ckan.gcIAP.skip_list=["/api/","/terriajs/"]
####################################################################
## OAuth2 configuration
ckan.oauth2.authorization_endpoint = https://accounts.google.com/o/oauth2/auth

ckan.oauth2.token_endpoint = https://accounts.google.com/o/oauth2/token
ckan.oauth2.profile_api_url = https://www.googleapis.com/oauth2/v1/userinfo
#AIzaSyDsclAFQQikHekpQJ7g6zFvR8C-XQw6-sA
#authDomain
#fao-maps-review.firebaseapp.com
#ckan.oauth2.client_id = 407408718192.apps.googleusercontent.com
ckan.oauth2.client_id = 1036455980974-bd0fdh0qamaf19hdu9agrar4qvmhf0dv.apps.googleusercontent.com
#ckan.oauth2.client_id = 1036455980974-67vsvbhsgi871u6uicco9lualsblengm.apps.googleusercontent.com
#ckan.oauth2.client_id = fao-maps-review
#ckan.oauth2.client_id = fao-maps-review.firebaseapp.com
ckan.oauth2.client_secret = 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
#ckan.oauth2.client_secret = 4/0AfJohXnF7h9GkodYbmIuu2C9L79WIVkrejk5u34PusPfY2uMQ6p6N1r37vjjToU6ZX0v7g
#ckan.oauth2.client_secret = AIzaSyCuRG7nJjrEFd25tga2eNzGZWKcZ-SQr_k
#ckan.oauth2.client_secret = AIzaSyDsclAFQQikHekpQJ7g6zFvR8C-XQw6-sA
ckan.oauth2.scope = openid https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/userinfo.profile
#ckan.oauth2.scope = https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/userinfo.profile https://www.googleapis.com/auth/plus.me
ckan.oauth2.profile_api_user_field = email
ckan.oauth2.profile_api_fullname_field = name
ckan.oauth2.profile_api_mail_field = email
ckan.oauth2.authorization_header = Authorization
####################################################################



# Customize which text formats the text_view plugin will show
#ckan.preview.json_formats = json
#ckan.preview.xml_formats = xml rdf rdf+xml owl+xml atom rss
#ckan.preview.text_formats = text plain text/plain

# Customize which image formats the image_view plugin will show
#ckan.preview.image_formats = png jpeg jpg gif

#ckanext-dcat plugin configs
#To disable the RDF endpoints, you can set the following config in your ini file
#ckanext.dcat.enable_rdf_endpoints = True
#The default number of datasets returned (100) can be modified by CKAN site maintainers using the following configuration option on your ini file:
#ckanext.dcat.datasets_per_page = 20
#To enable content negotiation, set the following configuration option on your ini file
#ckanext.dcat.enable_content_negotiation = True
# Adding profiles
#ckanext.dcat.rdf.profiles = euro_dcat_ap schemaorg
#harvest plugin configs



# DCAT upper case resource names fix
#https://github.com/ckan/ckanext-dcat/issues/185
#ckanext.dcat.translate_keys = False


## Redis Settings
# URL to your Redis instance, including the database to be used.
ckan.harvest.mq.type = redis
ckan.harvest.mq.hostname = localhost
ckan.harvest.mq.port = 6379
ckan.harvest.mq.redis_db = 0
ckan.harvest.timeout = 1440

#faciok pluging configs
ckanext.faociok.datatype = other
ckanext.faociok.trim_for_index = true
ckanext.faociok.datatype.fixed = true

#rabbitmq
# NO NEEDED TO SPECIFY 
#ckan.harvest.mq.type = amqp
#ckan.harvest.mq.user_id = guest
#ckan.harvest.mq.port = 5672
#ckan.harvest.mq.hostname = localhost
#ckan.harvest.mq.virtual_host = 

#ckan.harvest.log_scope = 0
#ckan.harvest.log_level = WARN
#ckan.harvest.log_timeframe = 10
#ckan.harvest.status_mail.errored = True

#spacial plugin settings
#ckan.spatial.srid = 4326

##geoview plugin confis
#ckanext.geoview.shp_viewer.encoding = UTF-8
#will support these formats below as default
#ckanext.geoview.ol_viewer.formats = wms kml wfs

#csw 
#ckan.spatial.validator.profiles = iso19139
#ckanext.spatial.harvest.user_name = patrick.sikalinda@fao.org
#ckanext.spatial.harvest.reindex_unchanged = False
#continue_on_validation_errors = true
#ckanext.spatial.harvest.continue_on_validation_errors = true

#pages plugin config
#ckanext.pages.organization = True
#ckanext.pages.group = True
#ckanext.pages.editor = ckeditor
#ckanext.pages.allow_html = True



## Front-End Settings

# Uncomment following configuration to enable using of Bootstrap 2
#ckan.base_public_folder = public-bs2
#ckan.base_templates_folder = templates-bs2

ckan.site_title = "FAO catalog"
ckan.site_logo = /base/images/ckan-logo.png
ckan.favicon = /favicon.ico
ckan.gravatar_default = identicon
ckan.preview.direct = png jpg gif
ckan.preview.loadable = html htm rdf+xml owl+xml xml n3 n-triples turtle plain atom csv tsv rss txt json
ckan.display_timezone = server

# package_hide_extras = for_search_index_only
#package_edit_return_url = http://another.frontend/dataset/<NAME>
#package_new_return_url = http://another.frontend/dataset/<NAME>
#ckan.recaptcha.publickey =
#ckan.recaptcha.privatekey =
licenses_group_url = https://storage.googleapis.com/fao-maps-catalog-data/ckan/licenses.json
# ckan.template_footer_end =


## Internationalisation Settings
ckan.locale_default = en
ckan.locale_order = ar zh_CN en fr ru es
ckan.locales_offered = ar zh_CN en fr ru es
ckan.locales_filtered_out = en_GB

## Feeds Settings

ckan.feeds.authority_name =
ckan.feeds.date =
ckan.feeds.author_name =
ckan.feeds.author_link =

## Storage Settings

#ckan.storage_path = /mnt/custom_bucket_storage
ckan.storage_path = /mnt/disks/ckan/ckanx
ckan.max_resource_size = 50
ckan.max_image_size = 5

## Datapusher settings

# Make sure you have set up the DataStore

ckan.datapusher.formats = csv xls xlsx tsv application/csv application/vnd.ms-excel application/vnd.openxmlformats-officedocument.spreadsheetml.sheet application/vnd.ms-excel
#ckan.datapusher.formats = csv xls xlsx tsv application/csv application/vnd.ms-excel application/vnd.openxmlformats-officedocument.spreadsheetml.sheet
ckan.datapusher.url = http://127.0.0.1:8800/
ckan.datapusher.assume_task_stale_after = 3600

# Resource Proxy settings
# Preview size limit, default: 1MB
#ckan.resource_proxy.max_file_size = 50048576
ckan.resource_proxy.max_file_size = 50000485760
# Size of chunks to read/write.
#ckan.resource_proxy.chunk_size = 4096

## Activity Streams Settings

#ckan.activity_streams_enabled = true
#ckan.activity_list_limit = 31
#ckan.activity_streams_email_notifications = true
#ckan.email_notifications_since = 2 days
ckan.hide_activity_from_users = %(ckan.site_id)s


## Email settings

#email_to = errors@example.com
#error_email_from = ckan-errors@example.com
smtp.server = outlook.office365.com
smtp.starttls = True
smtp.user = gcp-services@fao.org
smtp.password = sZm6cXNeYQvr2AAY
smtp.mail_from = fao-data@fao.org



#===================================

# Needed for the search facets to be displayed properly until #599 is
# fixed on CKAN core
search.facets.default=1000

# File preview service URL and CSV export service URL.
# If these are commented out, the links won't appear in the frontend
iati.preview_service = http://tools.aidinfolabs.org/showmydata/index.php?url=%s
iati.csv_service = http://tools.aidinfolabs.org/csv/direct_from_registry/?xml=%s

# User name and API key for the iati-archiver sysadmin user
iati.admin_user.name=iati-archiver
iati.admin_user.api_key={api-key}

# Google Analytics id to be used when inserting the code
# If this option is commented out, the code won't be added to the frontend
#iati.google_analytics.id=UA-XXXXXXX-XX

# Email settings
# Make sure smtp_server is properly setted (normally to localhost) the rest
# of the defaults should be good enough:

# Address from where the email notifactions are sent, default is 'no-reply@iatiregistry.org'
#iati.email=

# Subject of the email sent to publishers when activated, default is 'IATI Registry Publisher Activation'
#iati.publisher_activation_email_subject=

# Allowed values for the IATI Standard Version (iati_version) field, default is '1.01 1.02 1.03 1.04 1.05 2.01 2.02 2.03'
#iati.standard_versions

# Set a user agent string used by ckanext-archiver when making requests
#ckanext.archiver.user_agent_string = "IATI (CKAN)"
#To ensure that the logging for the archiver works fine and prevent permissions problems, use the following logging configuration:

#===================================

## Logging configuration
[loggers]
keys = root, ckan, ckanext , harvest , datapusher , spatial, dcat , faociok,pages

[handlers]
keys = console, harvestHandler , datapusherHandler, spatialHandler, facioklHandler, dcatHandler,pagesHandler

[formatters]
keys = generic

[logger_root]
level = WARNING
handlers = console

[logger_ckan]
level = WARNING
handlers = console
qualname = ckan
propagate = 0

[logger_sqlalchemy]
handlers = console
qualname = ckan.sqlalchemy.engine
level = WARNING

[logger_harvest]
level = WARNING
handlers = harvestHandler
qualname = ckanext.harvest
propagate = 0

[handler_harvestHandler]
formatter=generic
class=handlers.RotatingFileHandler
maxBytes=3457280
level=WARNING
args=('/var/log/apache2/harvest.log','a','maxBytes=3457280', 'backupCount=6')

[logger_pages]
level = WARNING
handlers = pagesHandler
qualname = ckanext.pages
propagate = 0

[handler_pagesHandler]
formatter=generic
class=handlers.RotatingFileHandler
maxBytes=3457280
level=WARNING
args=('/var/log/apache2/pages.log','a','maxBytes=3457280', 'backupCount=6')


[logger_faociok]
level = WARNING
handlers = facioklHandler
qualname = ckanext.faociok
propagate = 0

[handler_facioklHandler]
formatter=generic
class=handlers.RotatingFileHandler
maxBytes=3457280
level=WARNING
args=('/var/log/apache2/faciok.log','a','maxBytes=3457280', 'backupCount=6')

[logger_spatial]
level = DEBUG
handlers = spatialHandler
qualname = ckanext.spatial
propagate = 0

[handler_spatialHandler]
formatter=generic
class=handlers.RotatingFileHandler
maxBytes=3457280
level=WARNING
args=('/var/log/apache2/spatial.log','a','maxBytes=3457280', 'backupCount=6')

[logger_dcat]
level = WARNING
handlers = dcatHandler
qualname = ckanext.dcat
propagate = 0

[handler_dcatHandler]
formatter=generic
class=handlers.RotatingFileHandler
maxBytes=3457280
level=WARNING
args=('/var/log/apache2/dcat.log','a','maxBytes=3457280', 'backupCount=6')

[logger_ckanext]
level = DEBUG
handlers = console
qualname = ckanext
propagate = 0

[logger_datapusher]
level = WARNING
handlers = datapusherHandler
qualname = datapusher
propagate = 0

[handler_datapusherHandler]
formatter=generic
class=handlers.RotatingFileHandler
maxBytes=31457280
level=WARNING
args=('/var/log/apache2/datapusher.log','a','maxBytes=31457280', 'backupCount=3')

[handler_console]
class = StreamHandler
args = (sys.stderr,)
level = NOTSET
formatter = generic

[formatter_generic]
format = %(asctime)s %(levelname)-5.5s [%(name)s] %(message)s